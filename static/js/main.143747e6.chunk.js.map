{"version":3,"sources":["crypto.js","components/TerminalText.js","components/MessageBubble.js","socket.js","store/actionTypes.js","consts.js","store/actions/conversationActions.js","screens/Conversation.js","components/ConversationCard.js","screens/ConversationRouter.js","store/actions/socketActions.js","screens/LoginScreen.js","store/actions/accountActions.js","screens/NewConversation.js","components/UserStatus.js","components/SocketStatus.js","assets/elixir_logo.png","assets/react_logo.svg","assets/github_logo.png","components/MouseoverText.js","screens/AboutScreen.js","App.js","theme.js","store/reducers/accountReducer.js","store/reducers/conversationReducer.js","store/reducers/socketReducer.js","store/reducers/index.js","index.js","store/index.js"],"names":["JsonFormatter","stringify","cipherParams","jsonObj","ct","ciphertext","toString","CryptoJS","enc","Base64","iv","salt","s","JSON","parse","jsonStr","lib","CipherParams","create","Hex","parseBase64","content","atob","split","e","useStyles","makeStyles","theme","terminal","fontFamily","fontWeight","fontSize","TerminalText","prefix","color","children","style","classes","className","line","marginBottom","marginTop","display","alignItems","overflowWrap","gridGap","bubble","gridArea","name","flexDirection","justifyContent","none","MessageBubble","userChannel","conversationChannel","tkn","encryptedObject","yourName","targetName","time","direction","outbound","formattedTime","substr","messageText","localStorage","getItem","AES","decrypt","iss","format","Utf8","gridTemplateAreas","gridTemplateColumns","textAlign","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","REGISTER_REQUEST","REGISTER_SUCCESS","REGISTER_FAILURE","LOGOUT","SELECT_CONVERSATION","CLEAR_SELECT_CONVERSATION","CONVERSATION_RECEIVED_MESSAGE","ON_NEW_CONVERSATION","ON_UPD_CONVERSATION","FETCH_CONVERSATION_REQUEST","FETCH_CONVERSATION_SUCCESS","FETCH_CONVERSATION_FAILURE","FETCH_CURRENT_MESSAGES_REQUEST","FETCH_CURRENT_MESSAGES_SUCCESS","FETCH_CURRENT_MESSAGES_FAILURE","SOCKET_REQUEST","SOCKET_CONNECT","SOCKET_FAILURE","BACKEND_URL","selectConversation","conversation","type","payload","sendMessage","text","console","warn","message","contentPayload","encrypt","push","leaveConversation","leave","receive","log","leaveUser","root","flexGrow","position","socketDown","width","height","background","head","paddingBottom","paddingLeft","paddingRight","gridColumnGap","paper","padding","gridTemplateRows","messages","overflowX","overflowY","inputBar","paddingTop","backdrop","zIndex","drawer","connect","state","currentUser","account","user","currentConversation","loading","socket","socketConnection","socketConnected","connected","dispatch","onReceivedMessage","id","user_id","clearSelectConversation","fetchCurrentMessages","conversationId","onSuccess","onError","a","token","axios","get","headers","response","data","success","withSnackbar","enqueueSnackbar","history","useHistory","React","useState","setText","channel","setChannel","messageInput","useRef","useEffect","variant","onReceivedMessageCallback","join","responsePayload","on","joinConversation","Backdrop","open","CircularProgress","to","title","Divider","map","onSubmit","preventDefault","current","focus","noValidate","autoComplete","TextField","autoFocus","inputRef","value","onChange","event","target","IconButton","aria-label","margin","size","backgroundColor","onClick","updated","overflow","maxHeight","conversations","fetchConversations","Error","match","useRouteMatch","path","length","convs","connectSocket","userId","onNewConversation","onUpdateConversation","Socket","params","createAndConnectSocket","joinUser","minHeight","doLogin","secretCode","password","post","loginResponse","userResponse","doAutoLogin","doRegister","addConversation","updateConversation","props","setCode","newSecretCode","setNewCode","setName","setPass","easter","setEgg","toLowerCase","includes","label","Fragment","Button","startConversation","conversation_id","button","userName","logged","ORANGE","status","over","cursor","cipher","transition","animateOpacity","wordCrambler","val","newString","v","charCode","charCodeAt","String","fromCharCode","Array","isArray","val2","newChildren","createElement","MouseoverText","overChildren","override","reverse","toogled","setToogle","cipherVisible","setCipher","onMouseEnter","onMouseLeave","opacity","top","footer","flexWrap","language","acronym","code","features","chip","marginRight","doneChip","borderColor","githubChip","twixChip","marginLeft","img","original","Code","FormGroup","row","Switch","checked","src","elixirLogo","reactLogo","Chip","avatar","href","clickable","githubLogo","main","appBar","appToolbar","alignContent","toolbarTitle","flexShrink","drawerPaper","drawerContainer","drawerHeader","spacing","mixins","toolbar","menuButton","hide","doLogout","setOpen","handleDrawerOpen","handleDrawerClose","menuLink","icon","ListItem","ListItemIcon","ListItemText","primary","CssBaseline","AppBar","Toolbar","edge","Typography","flex","SwipeableDrawer","anchor","onOpen","onClose","List","Container","component","maxWidth","createMuiTheme","palette","secondary","error","red","A400","default","typography","INITIAL_STATE","accountReducer","action","setItem","removeItem","sortMessages","_","orderBy","clearUpdatedOnConversation","convsId","conversationReducer","socketReducer","disconnect","combineReducers","store","preloadedState","middlewares","thunkMiddleware","enhancers","applyMiddleware","composedEnhancers","compose","createStore","rootReducer","configureStore","registerServiceWorker","navigator","window","addEventListener","serviceWorker","register","then","registration","catch","err","ReactDOM","render","ThemeProvider","maxSnack","document","querySelector"],"mappings":"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","file":"static/js/main.143747e6.chunk.js","sourcesContent":["import CryptoJS from 'crypto-js'\n\nconst JsonFormatter = {\n  stringify: (cipherParams) => {\n    const jsonObj = { ct: cipherParams.ciphertext.toString(CryptoJS.enc.Base64) }\n    if (cipherParams.iv) jsonObj.iv = cipherParams.iv.toString();\n    if (cipherParams.salt) jsonObj.s = cipherParams.salt.toString();\n    return JSON.stringify(jsonObj);\n  },\n  parse: (jsonStr) => {\n    const jsonObj = JSON.parse(jsonStr);\n\n    const cipherParams = CryptoJS.lib.CipherParams.create({\n      ciphertext: CryptoJS.enc.Base64.parse(jsonObj.ct)\n    });\n    if (jsonObj.iv) cipherParams.iv = CryptoJS.enc.Hex.parse(jsonObj.iv);\n    if (jsonObj.s) cipherParams.salt = CryptoJS.enc.Hex.parse(jsonObj.s);\n    return cipherParams;\n  }\n};\n\nexport const parseBase64 = (content) => {\n  try {\n    return JSON.parse(atob(content.split('.')[1]));\n  } catch (e) {\n    return null;\n  }\n};\n\nexport const encryptMessage = (tkn, message) => JSON.parse(CryptoJS.AES.encrypt(message, tkn.iss, {\n  format: JsonFormatter\n}).toString());\n\nexport const decryptMessage = (tkn, encryptedObject) => CryptoJS.AES.decrypt(encryptedObject, tkn.iss, {\n  format: JsonFormatter\n}).toString(CryptoJS.enc.Utf8);\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\n\nconst useStyles = makeStyles((theme) => ({\n  terminal: {\n    fontFamily: 'VCRMono',\n    fontWeight: 100,\n    fontSize: 16\n  }\n}))\n\nexport default function TerminalText ({ prefix, color, children, style = {} }) {\n  const classes = useStyles()\n  return (\n    <span className={classes.terminal} style={{ ...style, color: color || '#fff' }}>\n      {prefix}{children}\n    </span>\n  )\n}\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { decryptMessage, parseBase64 } from '../crypto'\n\nimport TerminalText from './TerminalText'\n\nconst useStyles = makeStyles((theme) => ({\n  line: {\n    marginBottom: 4,\n    marginTop: 4,\n    display: 'grid',\n    alignItems: 'flex-start',\n    overflowWrap: 'anywhere',\n    gridGap: 10\n  },\n  bubble: {\n    gridArea: 'bubble',\n    color: '#fff'\n  },\n  name: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'flex-start',\n    alignItems: 'flex-start',\n    gridArea: 'name',\n    overflowWrap: 'anywhere'\n  },\n  none: {\n    gridArea: 'none',\n  }\n}))\n\nfunction MessageBubble ({ yourName, targetName, content, time, direction }) {\n  const classes = useStyles()\n  const outbound = direction === 'out'\n\n  const normalStyle = {\n    gridTemplateAreas: '\"name bubble none\"',\n    gridTemplateColumns: 'auto minmax(min-content, 100%) auto',\n    textAlign: 'left'\n  }\n  const outboundStyle = {\n    gridTemplateAreas: '\"none bubble name\"',\n    gridTemplateColumns: 'auto minmax(min-content, 100%) auto',\n    textAlign: 'right'\n  }\n  const color = outbound ? '#b55f5f' : '#b58f5f'\n  const formattedTime = time.toString().substr(10)\n  const messageText = decryptMessage(parseBase64(localStorage.getItem('auth_token')), JSON.stringify(content))\n\n  return (\n    <div className={classes.line} style={outbound ? outboundStyle : normalStyle}>\n      <div className={classes.bubble}>\n        <TerminalText style={{ fontWeight: 100 }}>{messageText}</TerminalText>\n      </div>\n      <div className={classes.name}>\n        <TerminalText color={color} style={{ fontWeight: 500 }}>\n          {outbound ? '@' + yourName : '@' + targetName}\n        </TerminalText>\n        <TerminalText color={color} style={{ fontSize: '0.8em'}}>\n          {formattedTime}\n        </TerminalText>\n      </div>\n      <span className={classes.none}></span>\n    </div>\n  )\n}\n\nexport default MessageBubble\n","import { Socket } from 'phoenix'\nimport { encryptMessage, parseBase64 } from './crypto'\nimport { WEBSOCKET_URL } from './consts'\n\nlet userChannel;\nlet conversationChannel;\n\nexport const createAndConnectSocket = () => {\n  const token = localStorage.getItem('auth_token')\n  const socket = new Socket(WEBSOCKET_URL, {params: {token: token}})\n  socket.connect();\n  return socket\n}\n\nexport const joinConversation = (socket, conversationId, onReceivedMessageCallback) => {\n  if (conversationChannel) leaveConversation();\n\n  conversationChannel = socket.channel(`conversation:${conversationId}`);\n  conversationChannel.join().receive('ok', (responsePayload) => {\n    console.log('joined conversation', responsePayload);\n  });\n\n  conversationChannel.on(\"new_message\", (response) => {\n    onReceivedMessageCallback(response.message)\n  })\n}\n\nexport const sendMessage = (text) => {\n  if (!conversationChannel) console.warn('tried to send message disconnected from conversationChannel (sendMessage)');\n  const contentPayload = encryptMessage(parseBase64(localStorage.getItem('auth_token')), text)\n  conversationChannel.push(\"send_message\", contentPayload)\n}\n\nexport const leaveConversation = () => {\n  if (!conversationChannel) return;\n  conversationChannel.leave(500).receive(\"ok\", () => console.log(\"left channel conversation\"));\n  conversationChannel = null;\n}\n\nexport const joinUser = (socket, userId, onNewConversation, onUpdateConversation) => {\n  if (userChannel) leaveUser();\n\n  userChannel = socket.channel(`conversation:lobby`);\n  userChannel.join().receive('ok', (responsePayload) => {\n    console.log('joined user channel', responsePayload);\n  });\n\n  userChannel.on(\"new_conversation\", (response) => {\n    onNewConversation(response.conversation)\n  })\n  userChannel.on(\"upd_conversation\", (response) => {\n    onUpdateConversation(response.conversation)\n  })\n}\n\nexport const leaveUser = () => {\n  if (!userChannel) return;\n  userChannel.leave(500).receive(\"ok\", () => console.log(\"left channel conversation\"));\n  userChannel = null;\n}\n","\nexport const LOGIN_REQUEST = \"LOGIN_REQUEST\"\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\"\nexport const LOGIN_FAILURE = \"LOGIN_FAILURE\"\n\nexport const REGISTER_REQUEST = \"REGISTER_REQUEST\"\nexport const REGISTER_SUCCESS = \"REGISTER_SUCCESS\"\nexport const REGISTER_FAILURE = \"REGISTER_FAILURE\"\n\nexport const LOGOUT = \"LOGOUT\"\n\nexport const SELECT_CONVERSATION = \"SELECT_CONVERSATION\"\nexport const CLEAR_SELECT_CONVERSATION = \"CLEAR_SELECT_CONVERSATION\"\nexport const CONVERSATION_RECEIVED_MESSAGE = \"CONVERSATION_RECEIVED_MESSAGE\"\n\nexport const ON_NEW_CONVERSATION = \"ON_NEW_CONVERSATION\"\nexport const ON_UPD_CONVERSATION = \"ON_UPD_CONVERSATION\"\n\nexport const FETCH_CONVERSATION_REQUEST = \"FETCH_CONVERSATION_REQUEST\"\nexport const FETCH_CONVERSATION_SUCCESS = \"FETCH_CONVERSATION_SUCCESS\"\nexport const FETCH_CONVERSATION_FAILURE = \"FETCH_CONVERSATION_FAILURE\"\n\nexport const FETCH_CURRENT_MESSAGES_REQUEST = \"FETCH_CURRENT_MESSAGES_REQUEST\"\nexport const FETCH_CURRENT_MESSAGES_SUCCESS = \"FETCH_CURRENT_MESSAGES_SUCCESS\"\nexport const FETCH_CURRENT_MESSAGES_FAILURE = \"FETCH_CURRENT_MESSAGES_FAILURE\"\n\nexport const START_CONVERSATION_REQUEST = \"START_CONVERSATION_REQUEST\"\nexport const START_CONVERSATION_SUCCESS = \"START_CONVERSATION_SUCCESS\"\nexport const START_CONVERSATION_FAILURE = \"START_CONVERSATION_FAILURE\"\n\n\nexport const SOCKET_REQUEST = \"SOCKET_REQUEST\"\nexport const SOCKET_CONNECT = \"SOCKET_CONNECT\"\nexport const SOCKET_FAILURE = \"SOCKET_FAILURE\"\n\n","\nconst PROD = true;\n\nexport const BACKEND_URL = PROD ? \"https://polar-ridge-40128.herokuapp.com\" : \"http://localhost:4000\"\nexport const WEBSOCKET_URL = PROD ? \"wss://polar-ridge-40128.herokuapp.com/socket\" : \"ws://localhost:4000/socket\"\n","import axios from 'axios'\nimport {\n  SELECT_CONVERSATION,\n  FETCH_CONVERSATION_REQUEST,\n  FETCH_CONVERSATION_SUCCESS,\n  FETCH_CONVERSATION_FAILURE,\n  START_CONVERSATION_REQUEST,\n  START_CONVERSATION_SUCCESS,\n  START_CONVERSATION_FAILURE,\n  FETCH_CURRENT_MESSAGES_REQUEST,\n  FETCH_CURRENT_MESSAGES_SUCCESS,\n  FETCH_CURRENT_MESSAGES_FAILURE,\n  CONVERSATION_RECEIVED_MESSAGE,\n  CLEAR_SELECT_CONVERSATION,\n  ON_NEW_CONVERSATION,\n  ON_UPD_CONVERSATION,\n} from '../actionTypes'\nimport { BACKEND_URL } from '../../consts'\n\nexport const selectConversation = (conversation) => { return {type: SELECT_CONVERSATION, payload: conversation} }\n\nexport const clearSelectConversation = () => { return {type: CLEAR_SELECT_CONVERSATION } }\n\nexport const addConversation = (payload) => { return {type: ON_NEW_CONVERSATION, payload } }\n\nexport const updateConversation = (payload) => { return {type: ON_UPD_CONVERSATION, payload } }\n\nexport const onReceivedMessage = (payload, user) => {\n  return {\n    type: CONVERSATION_RECEIVED_MESSAGE,\n    payload: {\n      id: payload.id,\n      content: payload.content,\n      time: payload.time,\n      direction: payload.user_id === user.id ? 'out' : 'in'\n    }\n  }\n}\n\nexport const fetchConversations = () => async dispatch => {\n  dispatch({ type: FETCH_CONVERSATION_REQUEST})\n  try {\n    const token = localStorage.getItem('auth_token')\n\n    const response = await axios.get(BACKEND_URL + '/api/conversations', {\n      headers: { 'Authorization': `Bearer ${token}`}\n    });\n    const {success, conversations} = response.data;\n    if (!success) throw Error(\"could fetch conversations\")\n\n    dispatch({ type: FETCH_CONVERSATION_SUCCESS, payload: conversations })\n  } catch (e) {\n    console.warn(e)\n    dispatch({ type: FETCH_CONVERSATION_FAILURE })\n  }\n}\n\nexport const startConversation = (secretCode, onSuccess, onError) => async dispatch => {\n  dispatch({ type: START_CONVERSATION_REQUEST})\n  try {\n    const token = localStorage.getItem('auth_token')\n\n    const response = await axios.post(BACKEND_URL + '/api/message',\n    {\n      'content': 'Vamos bater um lero',\n      'secret_code': secretCode\n    },\n    { headers: { 'Authorization': `Bearer ${token}`} });\n    const {success, message} = response.data;\n    if (!success) throw response.data\n\n    dispatch({ type: START_CONVERSATION_SUCCESS, payload: message })\n    onSuccess(message.conversation_id)\n  } catch (e) {\n    console.warn(e)\n    dispatch({ type: START_CONVERSATION_FAILURE })\n    onError()\n  }\n}\n\nexport const fetchCurrentMessages = (conversationId, onSuccess, onError) => async dispatch => {\n  dispatch({ type: FETCH_CURRENT_MESSAGES_REQUEST})\n  try {\n    const token = localStorage.getItem('auth_token')\n\n    const response = await axios.get(BACKEND_URL + `/api/conversations/${conversationId}/messages`,\n    { headers: { 'Authorization': `Bearer ${token}`} });\n    const {success} = response.data;\n    if (!success) throw response.data\n\n    dispatch({ type: FETCH_CURRENT_MESSAGES_SUCCESS, payload: response.data })\n    onSuccess()\n  } catch (e) {\n    console.warn(e)\n    dispatch({ type: FETCH_CURRENT_MESSAGES_FAILURE })\n    onError()\n  }\n}\n","import React, { useRef } from 'react'\nimport { connect } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { Link, useHistory } from \"react-router-dom\"\nimport { withSnackbar } from 'notistack'\n\nimport Backdrop from '@material-ui/core/Backdrop'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport InfiniteScroll from 'react-infinite-scroll-component'\n\nimport HttpsIcon from '@material-ui/icons/Https'\nimport Divider from '@material-ui/core/Divider'\nimport TextField from '@material-ui/core/TextField'\nimport IconButton from '@material-ui/core/IconButton'\nimport SendIcon from '@material-ui/icons/Send'\n\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack'\n\nimport MessageBubble from '../components/MessageBubble'\nimport TerminalText from '../components/TerminalText'\n\nimport { fetchCurrentMessages, onReceivedMessage, clearSelectConversation } from '../store/actions/conversationActions'\nimport { joinConversation, leaveConversation, sendMessage } from '../socket'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 0,\n    position: 'relative',\n  },\n  socketDown: {\n    width: '100%',\n    height: '100%',\n    background: '#00000055',\n    position: 'absolute'\n  },\n  head: {\n    paddingBottom: 8,\n    paddingLeft: 5,\n    paddingRight: 5,\n    display: 'grid',\n    gridTemplateColumns: 'auto 1fr auto',\n    gridColumnGap: 15,\n    alignItems: 'center',\n    textAlign: 'right'\n  },\n  paper: {\n    padding: '10px 15px',\n    color: '#fff',\n    display: 'grid',\n    gridTemplateRows: '55px 10px 55vh 10px 40px'\n  },\n  messages: { \n    display: 'flex',\n    flexDirection: 'column-reverse',\n    overflowX: 'hidden',\n    overflowY: 'overlay',\n    paddingRight: 20,\n    paddingBottom: 5,\n  },\n  inputBar: {\n    display: 'grid',\n    gridTemplateColumns: '1fr 40px',\n    alignItems: 'center',\n    paddingTop: 5,\n    paddingBottom: 5,\n  },\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: '#fff',\n  },\n}))\n\nfunction Conversation ({\n  currentUser,\n  conversation,\n  fetchCurrentMessages,\n  onReceivedMessage,\n  socket,\n  socketConnected,\n  enqueueSnackbar,\n  clearSelectConversation,\n  loading\n}) {\n  let history = useHistory()\n  const classes = useStyles()\n  const [text, setText] = React.useState('')\n  const [channel, setChannel] = React.useState(false)\n  const messageInput = useRef(null)\n  const handleChange = (event) => {\n    setText(event.target.value);\n  };\n  const focusInput = () => messageInput.current.focus()\n\n  React.useEffect(() => {\n    fetchCurrentMessages(\n      conversation.id,\n      () => {},\n      () => {\n      enqueueSnackbar('Failed loading messages', { variant: 'warning' })\n      history.push(\"/\")\n    })\n    return () => {\n      leaveConversation()\n      clearSelectConversation()\n    }\n  }, [])\n\n  React.useEffect(() => {\n    if (!channel && socketConnected) {\n      try {\n        console.log('using effect to JOINCONVERSATION')\n        joinConversation(socket, conversation.id, (message) => {\n          onReceivedMessage(message, currentUser)\n        })\n        setChannel(true)\n      } catch (e) {\n        console.warn(e)\n        setChannel(false)\n      }\n    }\n  }, [socketConnected])\n\n  const trySendMessage = (e) => {\n    e.preventDefault()\n    if (!channel) {\n      enqueueSnackbar('Not connected to channel', { variant: 'warning' })\n      return\n    }\n    if (!text || text === '') {\n      enqueueSnackbar('Speak your mind or get out', { variant: 'warning' })\n      return\n    }\n    try {\n      sendMessage(text)\n    } finally {\n      setText('')\n      focusInput()\n    }\n  }\n\n  const renderMessages = () => {\n    if (loading) return null;\n\n    if (socketConnected && conversation && conversation.messages) {\n      return (\n        <div className={classes.messages}>\n          {conversation.messages && conversation.messages.map(message => {\n            return (\n              <MessageBubble \n                key={message.id}\n                yourName={currentUser.name}\n                targetName={conversation.title}\n                content={message.content}\n                direction={message.direction}\n                time={message.time}\n              />\n            )\n          })}\n        </div>\n      )\n    }\n  }\n\n  return (\n    <div className={classes.root}>\n      {!socketConnected && <div className={classes.socketDown}></div>}\n      <Backdrop className={classes.backdrop} open={loading}>\n        <CircularProgress color=\"inherit\" />\n      </Backdrop>\n      <div className={classes.paper}>\n        <div className={classes.head}>\n          <Link to=\"/\">\n            <ArrowBackIcon />\n          </Link>\n          <TerminalText prefix=\"#/ @\">{conversation.title}</TerminalText>\n          <HttpsIcon />\n        </div>\n        <Divider />\n        <div className={classes.messages}>\n          {renderMessages()}\n        </div>\n        <Divider />\n        <form className={classes.inputBar} onSubmit={trySendMessage} noValidate autoComplete={'false'}>\n          <TextField\n            autoFocus={true}\n            inputRef={messageInput}\n            color=\"primary\"\n            value={text}\n            onChange={handleChange}\n          />\n          <IconButton aria-label=\"delete\" className={classes.margin} size=\"small\" type=\"submit\">\n            <SendIcon fontSize=\"default\" style={{ color: '#fff' }} />\n          </IconButton>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nconst mapStateToProps = state => {\n  return {\n    currentUser: state.account.user,\n    conversation: state.conversation.currentConversation,\n    loading: state.conversation.loading,\n    socket: state.socketConnection.socket,\n    socketConnected: state.socketConnection.connected,\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onReceivedMessage: (message, user) => dispatch(onReceivedMessage(message, user)),\n    clearSelectConversation: () => dispatch(clearSelectConversation()),\n    fetchCurrentMessages: (conversationId, onSuccess, onError) => dispatch(fetchCurrentMessages(conversationId, onSuccess, onError))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withSnackbar(Conversation))\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { Link } from \"react-router-dom\"\n\nimport TerminalText from './TerminalText'\nimport Paper from '@material-ui/core/Paper'\nimport Avatar from '@material-ui/core/Avatar'\nimport { selectConversation } from '../store/actions/conversationActions'\n\nconst useStyles = makeStyles((theme) => ({\n  conversation: {\n    padding: '10px 15px',\n    marginBottom: 8,\n    display: 'grid',\n    gridTemplateColumns: 'auto 1fr',\n    gridColumnGap: 15,\n    alignItems: 'center',\n    backgroundColor: '#4f4f4f',\n    color: '#fff'\n  }\n}))\n\nfunction ConversationCard ({ id, conversation, selectConversation }) {\n  const classes = useStyles()\n\n  return (\n    <Link to={`/conversations/${id}`} onClick={() => selectConversation(conversation)}>\n      <TerminalText prefix={`<${id}> conversation#/ `}>{conversation.title}</TerminalText>\n      {conversation.updated && (<TerminalText prefix=' ' color=\"red\">{'<!!>'}</TerminalText>)}\n    </Link>\n  )\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    selectConversation: (conversation) => dispatch(selectConversation(conversation))\n  }\n}\n\nexport default connect(null, mapDispatchToProps)(ConversationCard)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles'\n\nimport {\n  Switch,\n  Route,\n  useRouteMatch,\n} from \"react-router-dom\";\n\nimport Conversation from './Conversation'\nimport ConversationCard from '../components/ConversationCard'\n\nimport { fetchConversations } from '../store/actions/conversationActions'\nimport { ContactSupportOutlined } from '@material-ui/icons';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    overflow: 'hidden',\n    maxHeight: '100vh'\n  },\n  conversations: {\n    display: 'flex',\n    flexDirection: 'column'\n  }\n}))\n\nfunction ConversationRouter ({ account, conversations, loading, fetchConversations }) {\n  let match = useRouteMatch();\n  const classes = useStyles()\n\n  React.useEffect(() => {\n    fetchConversations()\n  }, [])\n\n  const renderConversations = () => {\n    if (loading) {\n      return <span>loading...</span>\n    }\n\n    if (!conversations || conversations.length == 0) {\n      return <span>Nenhuma conversa...</span>\n    }\n\n    return conversations.map(convs => {\n      return (<ConversationCard key={convs.id} id={convs.id} conversation={convs} />)\n    })\n  }\n\n  return (\n    <div className={classes.root}>\n      <div style={{ height: 10 }} />\n      <Switch>\n        <Route path={`${match.path}conversations/:conversationId`}>\n          <Conversation />\n        </Route>\n        <Route path={match.path}>\n          <div className={classes.conversations}>\n            {renderConversations()}\n          </div>\n        </Route>\n      </Switch>\n    </div>\n  )\n}\n\nconst mapStateToProps = state => {\n  return {\n    account: state.account,\n    conversations: state.conversation.conversations,\n    loading: state.conversation.loading,\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    fetchConversations: () => dispatch(fetchConversations())\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ConversationRouter)\n","import {\n  SOCKET_REQUEST,\n  SOCKET_CONNECT,\n  SOCKET_FAILURE,\n} from '../actionTypes'\nimport { createAndConnectSocket, joinUser } from '../../socket'\n\nexport const connectSocket = (userId, onNewConversation, onUpdateConversation) => dispatch => {\n  dispatch({ type: SOCKET_REQUEST })\n  try {\n    const socket = createAndConnectSocket()\n    joinUser(socket, userId, onNewConversation, onUpdateConversation)\n    dispatch({ type: SOCKET_CONNECT, payload: socket })\n  } catch (e) {\n    console.warn(e)\n    dispatch({ type: SOCKET_FAILURE })\n  }\n}\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { withSnackbar } from 'notistack'\n\nimport Backdrop from '@material-ui/core/Backdrop'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport TextField from '@material-ui/core/TextField'\nimport Button from '@material-ui/core/Button'\n\nimport { doLogin, doAutoLogin, doRegister } from '../store/actions/accountActions'\nimport { addConversation, updateConversation } from '../store/actions/conversationActions'\nimport { connectSocket } from '../store/actions/socketActions'\nimport { useHistory } from 'react-router'\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    minHeight: '100vh',\n    flexGrow: 1,\n    paddingTop: 15,\n    padding: 8\n  },\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: '#fff',\n  },\n}))\n\nfunction LoginScreen (props) {\n  const classes = useStyles()\n  const history = useHistory()\n  const [secretCode, setCode] = React.useState('')\n  const [newSecretCode, setNewCode] = React.useState('')\n  const [name, setName] = React.useState('')\n  const [password, setPass] = React.useState('')\n  const [easter, setEgg] = React.useState(false)\n  const handleChangeCode = (event) => setCode(event.target.value)\n  const handleChangePass = (event) => setPass(event.target.value)\n  const handleChangeNewCode = (event) => setNewCode(event.target.value)\n  const handleChangeName = (event) => setName(event.target.value)\n\n  React.useEffect(() => {\n    if (secretCode.toLowerCase() === 'lero') {\n      setEgg(true)\n    } else {\n      if (easter) setEgg(false)\n    }\n  }, [secretCode])\n\n  React.useEffect(() => {\n    if (newSecretCode.toLowerCase().toString().includes('lero')) props.enqueueSnackbar(\"You're funny\", { variant: 'warning' })\n    if (newSecretCode.toLowerCase().toString().includes('admin')) props.enqueueSnackbar(\"Don't even try\", { variant: 'warning' })\n  }, [newSecretCode])\n\n  React.useEffect(() => {\n    const token = localStorage.getItem('auth_token');\n    if (!!token && token !== '') {\n      props.doAutoLogin(token, (user) => {\n        props.connectSocket(user.id, props.addConversation, props.updateConversation)\n        history.push(\"/\")\n      }, () => {})\n    }\n  }, [])\n\n  const tryLogin = (e) => {\n    e.preventDefault()\n    if (secretCode === '' || password === '') {\n      props.enqueueSnackbar('Fields missing', { variant: 'warning' })\n    } else {\n      props.doLogin(secretCode, password, (user) => {\n        props.connectSocket(user.id, props.addConversation, props.updateConversation)\n      }, () => {\n        props.enqueueSnackbar('Login failed. Check your credentials.', { variant: 'error' })\n      })\n    }\n  }\n\n  const tryRegister = (e) => {\n    e.preventDefault()\n    if (newSecretCode.toLowerCase().toString().includes('lero')) {\n      props.enqueueSnackbar(\"Choose something funnier\", { variant: 'info' })\n      return\n    }\n    if (newSecretCode.toLowerCase().toString().includes('admin')) {\n      props.enqueueSnackbar(\"You tried, ok... BLOCKED\", { variant: 'warning' })\n      return\n    }\n    if (newSecretCode === '' || password === '' || name == '') {\n      props.enqueueSnackbar('Fields missing', { variant: 'warning' })\n    } else {\n      props.doRegister(newSecretCode, name, password, (user) => {\n        props.connectSocket(user.id, props.addConversation, props.updateConversation)\n      }, () => {\n        props.enqueueSnackbar('Register failed. Secret code already been used', { variant: 'error' })\n      })\n    }\n  }\n\n  return (\n    <div className={classes.root}>\n      <form onSubmit={easter ? tryRegister : tryLogin} autoComplete=\"no\">\n        <Backdrop className={classes.backdrop} open={props.account.loading}>\n          <CircularProgress color=\"inherit\" />\n        </Backdrop>\n        <TextField\n          label={easter ? \"You want to lero?\" : \"Secret code\"}\n          value={secretCode}\n          onChange={handleChangeCode}\n          variant=\"outlined\"\n          color=\"secondary\"\n          autoComplete=\"no\"\n        />\n        <div style={{ height: 10 }} />\n        {easter && (\n          <TextField\n            value={newSecretCode}\n            onChange={handleChangeNewCode}\n            label=\"Register Secret Code\"\n            variant=\"outlined\"\n            color=\"secondary\"\n            autoComplete=\"new-password\"\n          />\n        )}\n        {easter && (\n          <React.Fragment>\n            <div style={{ height: 10 }} />\n            <TextField\n              value={name}\n              onChange={handleChangeName}\n              label=\"Your name\"\n              variant=\"outlined\"\n              color=\"secondary\"\n              autoComplete=\"new-password\"\n            />\n          </React.Fragment>\n        )}\n        <div style={{ height: 10 }} />\n        <TextField\n          type=\"password\"\n          value={password}\n          onChange={handleChangePass}\n          label=\"Pass\"\n          variant=\"outlined\"\n          color=\"secondary\"\n          autoComplete=\"new-password\"\n        />\n        <div style={{ height: 15 }} />\n        <Button type=\"submit\" variant=\"contained\" color=\"secondary\">\n          {easter ? \"Register\" : \"Login\"}\n        </Button>\n      </form>\n    </div>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    account: state.account\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    doLogin: (secretCode, password, onSuccess, onError) => dispatch(doLogin(secretCode, password, onSuccess, onError)),\n    doAutoLogin: (token, onSuccess, onError) => dispatch(doAutoLogin(token, onSuccess, onError)),\n    doRegister: (secretCode, name, password, onSuccess, onError) => dispatch(doRegister(secretCode, name, password, onSuccess, onError)),\n    connectSocket: (userId, onNewConversation, onUpdateConversation) => dispatch(connectSocket(userId, onNewConversation, onUpdateConversation)),\n    addConversation: (payload) => dispatch(addConversation(payload)),\n    updateConversation: (payload) => dispatch(updateConversation(payload)),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withSnackbar(LoginScreen))\n","import axios from 'axios'\nimport {\n  LOGIN_REQUEST,\n  LOGIN_SUCCESS,\n  LOGIN_FAILURE,\n  REGISTER_REQUEST,\n  REGISTER_SUCCESS,\n  REGISTER_FAILURE,\n  LOGOUT\n} from '../actionTypes'\nimport { BACKEND_URL } from '../../consts'\n\nexport const doLogin = (secretCode, password, onSuccess, onError) => async dispatch => {\n  dispatch({ type: LOGIN_REQUEST})\n  try {\n    const loginResponse = await axios.post(BACKEND_URL + '/api/login', { 'secret_code': secretCode, 'password': password });\n    const {success, token} = loginResponse.data;\n    if (!success) throw loginResponse;\n\n    const userResponse = await axios.get(BACKEND_URL + '/api/user', {\n      headers: { 'Authorization': `Bearer ${token}`}\n    });\n    if (!userResponse.data.success) userResponse;\n\n    dispatch({ type: LOGIN_SUCCESS, payload: { token, user: userResponse.data.user } })\n    onSuccess(userResponse.data.user)\n  } catch (e) {\n    console.warn(e)\n    dispatch({ type: LOGIN_FAILURE })\n    onError()\n  }\n}\n\nexport const doAutoLogin = (token, onSuccess, onError) => async dispatch => {\n  dispatch({ type: LOGIN_REQUEST})\n  try {\n    const userResponse = await axios.get(BACKEND_URL + '/api/user', {\n      headers: { 'Authorization': `Bearer ${token}`}\n    });\n    if (!userResponse.data.success) throw Error(\"could not fetch user data\")\n\n    dispatch({ type: LOGIN_SUCCESS, payload: { token, user: userResponse.data.user } })\n    onSuccess(userResponse.data.user)\n  } catch (e) {\n    console.warn(e)\n    dispatch({ type: LOGIN_FAILURE })\n    onError()\n  }\n}\n\nexport const doLogout = () => { return {type: LOGOUT} }\n\nexport const doRegister = (secretCode, name, password, onSuccess, onError) => async dispatch => {\n  dispatch({ type: REGISTER_REQUEST})\n  try {\n    const registerResponse = await axios.post(BACKEND_URL + '/api/register', {\n      \"user\": {\n        \"name\": name,\n        \"description\": \"\",\n        \"secret_code\": secretCode\n      },\n      \"password\": password\n    });\n    if (!registerResponse.data.success) throw Error(\"could not register data\")\n\n    const loginResponse = await axios.post(BACKEND_URL + '/api/login', { 'secret_code': secretCode, 'password': password });\n    const {success, token} = loginResponse.data;\n    if (!success) throw loginResponse;\n\n    const userResponse = await axios.get(BACKEND_URL + '/api/user', {\n      headers: { 'Authorization': `Bearer ${token}`}\n    });\n    if (!userResponse.data.success) userResponse;\n\n    dispatch({ type: REGISTER_SUCCESS, payload: { token, user: userResponse.data.user } })\n    onSuccess(userResponse.data.user)\n  } catch (e) {\n    console.warn(e)\n    dispatch({ type: REGISTER_FAILURE })\n    onError()\n  }\n}","import React from 'react'\nimport { connect } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { withSnackbar } from 'notistack'\n\nimport TextField from '@material-ui/core/TextField'\nimport Button from '@material-ui/core/Button'\n\nimport { startConversation, selectConversation } from '../store/actions/conversationActions'\nimport { useHistory } from 'react-router';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    minHeight: '100vh',\n    flexGrow: 1,\n    paddingTop: 15,\n    padding: 8\n  },\n}))\n\nfunction NewConversation ({ account, startConversation, enqueueSnackbar, selectConversation }) {\n  const classes = useStyles()\n  const history = useHistory()\n  const [secretCode, setText] = React.useState('');\n  const handleChange = (event) => {\n    setText(event.target.value);\n  };\n\n  const tryStartConversation = (e) => {\n    e.preventDefault();\n    if (secretCode && secretCode !== '') {\n      startConversation(secretCode, (conversationId) => {\n        selectConversation({ id: conversationId, title: secretCode })\n        history.push(\"/conversations/\" + conversationId)\n      }, () => {\n        enqueueSnackbar('Secret code not found. Want help?', { variant: 'info' })\n      })\n    } else {\n      enqueueSnackbar('Well, ghosts don\\'t exist... or do they?', { variant: 'warning' })\n    }\n  }\n\n  return (\n    <div className={classes.root}>\n      <form onSubmit={tryStartConversation}>\n        <TextField\n          label=\"Secret Code\"\n          color=\"secondary\"\n          value={secretCode}\n          onChange={handleChange}\n          variant=\"outlined\"\n        />\n        <div style={{ height: 15 }} />\n        <Button type=\"submit\" variant=\"contained\" color=\"secondary\">\n          SEARCH\n        </Button>\n      </form>\n    </div>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    account: state.account\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    startConversation: (secretCode, onSuccess, onError) => dispatch(startConversation(secretCode, onSuccess, onError)),\n    selectConversation: (conversation) => dispatch(selectConversation(conversation))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withSnackbar(NewConversation))\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles'\n\nimport { Link } from \"react-router-dom\"\nimport Button from '@material-ui/core/Button'\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'baseline'\n  },\n  button: {},\n  userName: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'flex-end',\n    textAlign: 'right'\n  }\n}))\n\nfunction UserStatus ({ account }) {\n  const classes = useStyles()\n\n  if (account.logged) {\n    return (\n      <div className={classes.root}>\n        <div className={classes.userName}>\n          <span style={{ fontSize: '1.2em', fontWeight: 500 }}>{account.user.name}</span>\n          <span>{account.user.secretCode}</span>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <Link to=\"/\">\n      <Button color=\"inherit\" className={classes.button}>\n        Login\n      </Button>\n    </Link>\n  )\n}\n\nconst mapStateToProps = state => {\n  return {\n    account: state.account\n  }\n}\n\nexport default connect(mapStateToProps)(UserStatus)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles'\n\nimport TerminalText from './TerminalText'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'baseline',\n  },\n}))\n\nconst GREEN = \"#FFCF99\"\nconst ORANGE = \"#666\"\n\nfunction SocketStatus ({ status }) {\n  const classes = useStyles()\n  const { connected, loading } = status\n  const color = loading ? ORANGE : (connected ? GREEN : ORANGE)\n  const text = loading ? 'connecting...' : (connected ? 'connected' : 'disconnected')\n\n  return (\n    <div className={classes.root}>\n      <TerminalText color='#FFF' style={{ fontSize: '0.65em', fontWeight: 100, paddingRight: 5 }}> \n        status: \n      </TerminalText>\n      <TerminalText color={color} style={{ fontSize: '0.65em', fontWeight: 600 }}> \n        {text}\n      </TerminalText>\n    </div>\n  )\n}\n\nconst mapStateToProps = state => {\n  return {\n    status: state.socketConnection\n  }\n}\n\nexport default connect(mapStateToProps)(SocketStatus)\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACXBIWXMAAAsTAAALEwEAmpwYAAAIn2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgICAgICAgICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICAgICAgICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIj4KICAgICAgICAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4KICAgICAgICAgPHRpZmY6WFJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOlhSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WVJlc29sdXRpb24+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj42NDwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOkNvbG9yU3BhY2U+NjU1MzU8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjY0PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9wbmc8L2RjOmZvcm1hdD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOmJhMjAwYTVhLWNkZDgtNGQwYi1iZjM5LThlMTEwNGNmOWQ2MTwveG1wTU06T3JpZ2luYWxEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06SGlzdG9yeT4KICAgICAgICAgICAgPHJkZjpTZXE+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNSAoTWFjaW50b3NoKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNS0wOS0xMlQwMDoyODoyOCswMjowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDpiYTIwMGE1YS1jZGQ4LTRkMGItYmYzOS04ZTExMDRjZjlkNjE8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgPC9yZGY6U2VxPgogICAgICAgICA8L3htcE1NOkhpc3Rvcnk+CiAgICAgICAgIDx4bXBNTTpJbnN0YW5jZUlEPnhtcC5paWQ6YmEyMDBhNWEtY2RkOC00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\"","export default __webpack_public_path__ + \"static/media/react_logo.928f956d.svg\";","export default \"data:image/png;base64,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\"","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\n\nconst useStyles = makeStyles((theme) => ({\n  over: {\n    cursor: 'pointer',\n    display: 'block',\n    position: 'relative'\n  },\n  cipher: {\n    transition: 'opacity 0.3s'\n  },\n  animateOpacity: {\n    transition: 'opacity 0.3s'\n  }\n}))\n\nfunction wordCrambler (val) {\n  if (typeof val === \"string\") {\n    let newString = \"\"\n    for (var v of val) {\n      const charCode = v.toString().charCodeAt(0)\n      if (charCode > 33 && charCode < 122) {\n        newString += String.fromCharCode(charCode - 33)[0]\n      } else {\n        newString += v\n      }\n    }\n    return newString\n  } else {\n    if (Array.isArray(val)) {\n      // console.log('is array')\n      // console.log(val)\n      return val.map((val2) => wordCrambler(val2))\n    } else {\n      // console.log('probably react component \\\\/')\n      // console.log(val)\n      if ([\"img\"].includes(val.type)) {\n        return val\n      } else {\n        const newChildren = wordCrambler(val.props.children)\n        return React.createElement(val.type, {...val.props, children: newChildren})\n      }\n    }\n  }\n}\n\nexport default function MouseoverText ({ children, overChildren, override = false, reverse = false, ...props }) {\n  const classes = useStyles()\n  const [toogled, setToogle] = React.useState(false)\n  const [cipherVisible, setCipher] = React.useState(false)\n  React.useEffect(() => {\n    setToogle(false)\n    setCipher(false)\n  }, [override])\n\n  const doTransition = (val) => {\n    if (override) return\n    setToogle(val)\n    if (val === true) {\n      setCipher(false)\n    }\n  }\n\n  return (\n    <div\n      {...props}\n      className={classes.over}\n      onClick={() => doTransition(!toogled)}\n      onMouseEnter={() => setCipher(true)}\n      onMouseLeave={() => setCipher(false)}\n    >\n      <div id=\"content1\" className={classes.animateOpacity} style={{ opacity: cipherVisible ? 0 : toogled || override ? 0 : 1 }}>\n        {reverse ? wordCrambler(children) : children}\n      </div>\n      <div id=\"cipher\" className={classes.cipher} style={{ position: 'absolute', top: 0, opacity: cipherVisible ? 1 : 0 }}>\n        {reverse ? (override ? overChildren : children) : wordCrambler(overChildren)}\n      </div>\n      <div id=\"content2\" className={classes.animateOpacity} style={{ position: 'absolute', top: 0, opacity: cipherVisible ? 0 : toogled || override ? 1 : 0 }}>\n        {reverse ? wordCrambler(overChildren) : overChildren}\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles'\n\nimport Chip from '@material-ui/core/Chip'\nimport FormGroup from '@material-ui/core/FormGroup'\nimport Switch from '@material-ui/core/Switch'\n\nimport DoneIcon from '@material-ui/icons/Done'\nimport TodoIcon from '@material-ui/icons/Schedule'\nimport TwixIcon from '@material-ui/icons/VisibilityOff'\n\nimport elixirLogo from '../assets/elixir_logo.png'\nimport reactLogo from '../assets/react_logo.svg'\nimport githubLogo from '../assets/github_logo.png'\n\nimport MouseoverText from '../components/MouseoverText'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    minHeight: '100vh',\n    flexGrow: 1,\n    paddingTop: 15,\n    padding: 8,\n    fontFamily: 'VCRMono',\n    fontSize: '18px',\n  },\n  footer: {\n    paddingTop: 30,\n    paddingBottom: 10,\n    display: 'flex',\n    flexDirection: 'row',\n    flexWrap: 'wrap'\n  },\n  language: {\n    cursor: 'default',\n    fontSize: '0.9em',\n    alignItems: 'baseline'\n  },\n  acronym: {\n    fontWeight: 100,\n    fontFamily: 'SourceCodePro'\n  },\n  code: {\n    fontFamily: 'RetroGaming'\n  },\n  features: {\n    display: 'flex',\n    flexDirection: 'column',\n    flexWrap: 'wrap',\n    justifyContent: 'flex-start',\n    flexGrow: 0,\n  },\n  chip: {\n    width: 'min-content',\n    fontSize: '1.1em',\n    marginRight: 4,\n    marginBottom: 6,\n  },\n  doneChip: {\n    width: 'min-content',\n    fontSize: '1.1em',\n    marginRight: 4,\n    marginBottom: 6,\n    borderColor: '#4ada4a',\n    color: '#4ada4a'\n  },\n  githubChip: {\n    width: 'min-content',\n    fontSize: '1.1em',\n    marginRight: 4,\n    marginBottom: 6,\n    borderColor: '#FFF',\n    color: '#FFF'\n  },\n  twixChip: {\n    width: 'min-content',\n    fontSize: '1.1em',\n    marginLeft: 7,\n    marginRight: 4,\n    marginBottom: 6,\n    borderColor: '#7d130c',\n    color: '#7d130c'\n  },\n  img: {\n    marginRight: 3,\n    marginBottom: -4\n  }\n}))\n\nfunction AboutScreen ({ account }) {\n  const classes = useStyles()\n  const [original, setToogle] = React.useState(true)\n\n  const Code = ({children}) => <span className={classes.code}>{children}</span>;\n\n  return (\n    <div className={classes.root}>\n      <FormGroup className={classes.language} row>\n        <span style={{ color: original ? '#666' : '#fff' }}>English</span>\n        <Switch checked={original} onChange={() => setToogle(!original)} color=\"secondary\" />\n        <span style={{ color: original ? '#fff' : '#666' }}>Portugues</span>\n      </FormGroup>\n      <MouseoverText\n        override={!original}\n        overChildren={(<h2>What is Lero</h2>)}\n      >\n        <h2>O que é isso?</h2>\n      </MouseoverText>\n      <p>\n        <MouseoverText\n          override={!original}\n          overChildren={\"Lero is a slang in brazilian portuguese similar to small talk, but in this context it stands for\"}\n        >\n          Lero é uma expressão em portugues para jogar conversa fora, bater um lero, mas nesse contexto ela significa\n        </MouseoverText>\n      </p>\n      <p>\n        <span className={classes.acronym}>\n          <i>\n            <MouseoverText override={!original} overChildren={\"Hidden Responses Reader and Editor\"}>Leitor Editor de Respostas Ocultas</MouseoverText>\n          </i>\n        </span>\n      </p>\n      <MouseoverText override={!original} overChildren={(\n        <p>\n          It is a webchat built with <Code><img className={classes.img} src={elixirLogo} height=\"20\"/>Phoenix</Code> and <Code><img className={classes.img} src={reactLogo} height=\"20\"/>React</Code> that encrypts its\n          messages during transport. It's quite simple, not intended to be the \n          <b> most advanced, unhackable, top-tier explosive web messaging security solution</b>, \n          but at least no one knows it exists.\n        </p>\n      )}>\n        <p>\n          É um webchat feito usando <Code><img className={classes.img} src={elixirLogo} height=\"20\"/>Phoenix</Code> e <Code><img className={classes.img} src={reactLogo} height=\"20\"/>React</Code> que encripta\n          suas mensagens em trânsito. É bem simples e não pretende ser\n          <b> a solução pica, top de linha, destruidora de segurança de mensagens</b>, mas pelo menos ninguém sabe que existe.\n        </p>\n      </MouseoverText>\n      <MouseoverText\n        override={!original}\n        overChildren={(<h2>Features</h2>)}\n      >\n        <h2>Funcionalidades</h2>\n      </MouseoverText>\n      <div className={classes.features}>\n        <Chip\n          className={classes.doneChip}\n          color=\"secondary\"\n          variant=\"outlined\"\n          label={\"encrypted messages\"}\n          avatar={<DoneIcon style={{ color: '#4ada4a', backgroundColor: 'transparent' }} />}\n        />\n        <Chip\n          className={classes.chip}\n          color=\"secondary\"\n          variant=\"outlined\"\n          label={\"self-destructing messages\"}\n          avatar={<TodoIcon style={{ color: '#FFCF99', backgroundColor: 'transparent' }} />}\n        />\n        <Chip\n          className={classes.chip}\n          color=\"secondary\"\n          variant=\"outlined\"\n          label={\"encrypted images\"}\n          avatar={<TodoIcon style={{ color: '#FFCF99', backgroundColor: 'transparent' }} />}\n        />\n        <Chip\n          className={classes.chip}\n          color=\"secondary\"\n          variant=\"outlined\"\n          label={\"group chats\"}\n          avatar={<TodoIcon style={{ color: '#FFCF99', backgroundColor: 'transparent' }} />}\n        />\n        <Chip\n          className={classes.chip}\n          color=\"secondary\"\n          variant=\"outlined\"\n          label={\"notifications\"}\n          avatar={<TodoIcon style={{ color: '#FFCF99', backgroundColor: 'transparent' }} />}\n        />\n        <Chip\n          className={classes.chip}\n          color=\"secondary\"\n          variant=\"outlined\"\n          label={\"cool animations\"}\n          avatar={<TodoIcon style={{ color: '#FFCF99', backgroundColor: 'transparent' }} />}\n        />\n        <Chip\n          className={classes.chip}\n          color=\"secondary\"\n          variant=\"outlined\"\n          label={\"language selector\"}\n          avatar={<TodoIcon style={{ color: '#FFCF99', backgroundColor: 'transparent' }} />}\n        />\n      </div>\n      <MouseoverText override={!original} overChildren={(<h3>Want a account?</h3>)}>\n        <h3>Quer uma conta?</h3>\n      </MouseoverText>\n      {!account.logged && (\n        <MouseoverText override={!original} reverse={true} overChildren={(<span>you can't type <b>lero</b></span>)}>\n          você não pode digitar <b>lero</b>\n        </MouseoverText>\n      )}\n      {account.logged && (\n        <span>\n          {original ? `você já tem uma, ${account.user.secretCode}` : `you already got one, ${account.user.secretCode}`}\n        </span>\n      )}\n      <h3>Repos</h3>\n      <div className={classes.features}>\n        <a href=\"https://github.com/AndreMicheletti/lero-app\" target=\"_blank\">\n          <Chip\n            className={classes.githubChip}\n            clickable={true}\n            variant=\"outlined\"\n            label={\"lero-app\"}\n            avatar={<img src={githubLogo} height=\"25\" />}\n          />\n        </a>\n        <a href=\"https://github.com/AndreMicheletti/lero-phoenix\" target=\"_blank\">\n          <Chip\n            className={classes.githubChip}\n            clickable={true}\n            variant=\"outlined\"\n            label={\"lero-phoenix\"}\n            avatar={<img src={githubLogo} height=\"25\" />}\n          />\n        </a>\n      </div>\n      <div className={classes.footer}>\n        <MouseoverText\n          override={!original}\n          overChildren={<span>Created by{' '}</span>}\n        >\n          <span>Criado por{' '}</span>\n        </MouseoverText>\n        <a href=\"https://github.com/AndreMicheletti/\" target=\"_blank\">\n          <Chip\n            className={classes.twixChip}\n            clickable={true}\n            variant=\"outlined\"\n            label={\" Andre Micheletti\"}\n            avatar={<TwixIcon fontSize=\"inherit\" style={{ color: '#7d130c', fontSize: 11 }} />}\n          />\n        </a>\n      </div>\n      <MouseoverText style={{ marginTop: 10, fontSize: '0.6em' }} reverse={true} overChildren={\"secret code: twix\"}>código secreto: twix</MouseoverText>\n    </div>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    account: state.account\n  }\n}\n\nexport default connect(mapStateToProps)(AboutScreen)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles'\nimport CssBaseline from '@material-ui/core/CssBaseline'\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link,\n} from \"react-router-dom\";\n\nimport AppBar from '@material-ui/core/AppBar'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport Container from '@material-ui/core/Container'\nimport Typography from '@material-ui/core/Typography'\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer'\nimport Divider from '@material-ui/core/Divider'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport IconButton from '@material-ui/core/IconButton'\n\nimport InfoIcon from '@material-ui/icons/Info'\nimport ForumIcon from '@material-ui/icons/Forum'\nimport CreateIcon from '@material-ui/icons/Create'\nimport MenuIcon from '@material-ui/icons/Menu'\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft'\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp'\n\nimport ConversationRouter from './screens/ConversationRouter'\nimport LoginScreen from './screens/LoginScreen'\nimport NewConversation from './screens/NewConversation'\nimport UserStatus from './components/UserStatus'\nimport SocketStatus from './components/SocketStatus'\n\nimport { doLogout } from './store/actions/accountActions'\nimport AboutScreen from './screens/AboutScreen';\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    minHeight: '100vh',\n    flexGrow: 1,\n  },\n  main: {\n    padding: 15,\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n  },\n  appToolbar: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'flex-start',\n    alignContent: 'center',\n    padding: '3px 15px'\n  },\n  toolbarTitle: {\n    display: 'flex',\n    flexDirection: 'column'\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n  },\n  drawerPaper: {\n    width: drawerWidth,\n    backgroundColor: '#333',\n    color: '#fff'\n  },\n  drawerContainer: {\n    overflow: 'auto',\n  },\n  drawerHeader: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n    justifyContent: 'flex-end',\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n  },\n  menuButton: {\n  },\n  hide: {\n    display: 'none',\n  },\n}))\n\n\nfunction App ({ account, ...props  }) {\n  const classes = useStyles()\n  const [open, setOpen] = React.useState(false);\n\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n\n  const menuLink = (path, text, icon) => (\n    <Link to={path} onClick={handleDrawerClose}>\n      <ListItem button key={text}>\n        <ListItemIcon>\n          {icon}\n        </ListItemIcon>\n        <ListItemText primary={text} />\n      </ListItem>\n    </Link>\n  );\n\n  return (\n    <Router>\n      <div className={classes.root}>\n        <CssBaseline />\n\n        <AppBar position=\"static\" className={classes.appBar}>\n          <Toolbar className={classes.appToolbar}>\n            <IconButton\n              color=\"inherit\"\n              aria-label=\"open drawer\"\n              onClick={handleDrawerOpen}\n              edge=\"start\"\n              className={classes.menuButton}\n            >\n              <MenuIcon />\n            </IconButton>\n            <Typography variant=\"h6\">\n              <Link to=\"/\">\n                <div className={classes.toolbarTitle}>\n                  <span>Lero</span>\n                  <SocketStatus />\n                </div>\n              </Link>\n            </Typography>\n            <div style={{ flex: '1' }} />\n            <UserStatus />\n          </Toolbar>\n        </AppBar>\n\n        <SwipeableDrawer\n          className={classes.drawer}\n          anchor=\"left\"\n          open={open}\n          onOpen={handleDrawerOpen}\n          onClose={handleDrawerClose}\n          classes={{\n            paper: classes.drawerPaper,\n          }}\n        >\n          <div className={classes.drawerHeader}>\n            <IconButton onClick={handleDrawerClose}>\n              <ChevronLeftIcon style={{ color: 'white' }} />\n            </IconButton>\n          </div>\n          <div className={classes.drawerContainer}>\n            {account.logged && (\n              <React.Fragment>\n                <Divider />\n                <List>\n                  {menuLink(\"/\", \"/conversations\", <ForumIcon style={{ color: '#fff' }} />)}\n                  {menuLink(\"/new\", \"/start_new\", <CreateIcon style={{ color: '#fff' }} />)}\n                </List>\n                <List>\n                  <ListItem onClick={() => {\n                    props.doLogout()\n                    handleDrawerClose()\n                  }} button key='logout'>\n                    <ListItemIcon>\n                      <ExitToAppIcon style={{ color: '#fff' }}/>\n                    </ListItemIcon>\n                    <ListItemText primary='/logout' />\n                  </ListItem>\n                </List>\n              </React.Fragment>)\n            }\n            <Divider />\n            <List>\n              {menuLink(\"/about\", \"/about\", <InfoIcon style={{ color: '#fff' }} />)}\n            </List>\n          </div>\n        </SwipeableDrawer>\n        {<main>\n          <Container component=\"main\" className={classes.main} maxWidth=\"md\">\n            {account.logged \n            ? (<Switch>\n                <Route path=\"/about\">\n                  <AboutScreen />\n                </Route>\n                <Route path=\"/archived\">\n                  <p>Archived</p>\n                </Route>\n                <Route path=\"/new\">\n                  <NewConversation />\n                </Route>\n                <Route path=\"/\">\n                  <ConversationRouter />\n                </Route>\n              </Switch>\n            ) : (\n              <Switch>\n                <Route path=\"/about\">\n                  <AboutScreen />\n                </Route>\n                <Route path=\"/\">\n                  <LoginScreen />\n                </Route>\n              </Switch>\n            )}\n          </Container>\n        </main>}\n\n      </div>\n    </Router>\n  )\n}\n\nfunction mapStateToProps(state) {\n  return {\n    account: state.account\n  }\n}\n\nfunction mapDispatchToProps (dispatch) {\n  return {\n    doLogout: () => dispatch(doLogout())\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App)\n","import { red } from '@material-ui/core/colors';\nimport { createMuiTheme } from '@material-ui/core/styles';\n\n// A custom theme for this app\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#7d130c',\n    },\n    secondary: {\n      main: '#FFCF99',\n    },\n    error: {\n      main: red.A400,\n    },\n    background: {\n      default: '#1E1E24',\n    },\n    text: {\n      primary: '#FFF8F0',\n      secondary: '#e6e6e6'\n    },\n  },\n  typography: {\n    fontFamily: \"SourceCodePro, RetroGaming, VCRMono, monospace\"\n  },\n});\n\nexport default theme;\n","import {\n  LOGIN_REQUEST,\n  LOGIN_SUCCESS,\n  LOGIN_FAILURE,\n  REGISTER_REQUEST,\n  REGISTER_SUCCESS,\n  REGISTER_FAILURE,\n  LOGOUT\n} from '../actionTypes'\n\nconst INITIAL_STATE = {\n  logged: false,\n  user: null,\n  token: \"\",\n  loading: false\n}\n\nfunction accountReducer(state = INITIAL_STATE, action) {\n  console.log(action)\n  switch (action.type) {\n    case LOGIN_REQUEST:\n      return {...state, loading: true}\n    case LOGIN_SUCCESS:\n      const { token, user } = action.payload\n      localStorage.setItem('auth_token', token);\n      return {...state, loading: false, token, user, logged: true}\n    case LOGIN_FAILURE:\n      localStorage.removeItem('auth_token')\n      return INITIAL_STATE\n\n    case REGISTER_REQUEST:\n      return {...state, loading: true}\n    case REGISTER_SUCCESS:\n      localStorage.setItem('auth_token', action.payload.token);\n      return {...state, loading: false, token: action.payload.token, user: action.payload.user, logged: true}\n    case REGISTER_FAILURE:\n      localStorage.removeItem('auth_token')\n      return INITIAL_STATE\n\n    case LOGOUT:\n      localStorage.removeItem('auth_token')\n      return INITIAL_STATE\n    default:\n      return state\n  }\n}\n\nexport default accountReducer\n","import _ from 'lodash'\nimport {\n  LOGOUT,\n  SELECT_CONVERSATION,\n  CLEAR_SELECT_CONVERSATION,\n  FETCH_CONVERSATION_REQUEST,\n  FETCH_CONVERSATION_SUCCESS,\n  FETCH_CONVERSATION_FAILURE,\n  ON_NEW_CONVERSATION,\n  ON_UPD_CONVERSATION,\n  FETCH_CURRENT_MESSAGES_REQUEST,\n  FETCH_CURRENT_MESSAGES_SUCCESS,\n  FETCH_CURRENT_MESSAGES_FAILURE,\n  CONVERSATION_RECEIVED_MESSAGE\n} from '../actionTypes'\n\nconst INITIAL_STATE = {\n  conversations: [\n    {\n      id: 1,\n      title: 'Hello world',\n      messages: [\n        {\n          id: 1,\n          content: 'Hello',\n          direction: 'out'\n        },\n        {\n          id: 2,\n          content: 'Hi there',\n          direction: 'in'\n        },\n      ] \n    }\n  ],\n  currentConversation: {},\n  loading: false\n}\n\nfunction conversationReducer(state = INITIAL_STATE, action) {\n  switch (action.type) {\n    case FETCH_CONVERSATION_REQUEST:\n      return {...state, loading: true}\n    case FETCH_CONVERSATION_SUCCESS:\n      return {...state, conversations: action.payload, loading: false}\n    case FETCH_CONVERSATION_FAILURE:\n      return {...state, conversations: [], loading: false}\n\n    case FETCH_CURRENT_MESSAGES_REQUEST:\n      return {...state, loading: true}\n    case FETCH_CURRENT_MESSAGES_SUCCESS:\n      const { conversation, messages } = action.payload\n      return {...state, loading: false, currentConversation: {...conversation, messages: sortMessages(messages) }}\n    case FETCH_CURRENT_MESSAGES_FAILURE:\n      return {...state, loading: false, currentConversation: {...state.currentConversation, messages: []}}\n\n    case ON_NEW_CONVERSATION:\n      return {...state, conversations: [...state.conversations, action.payload]}\n    case ON_UPD_CONVERSATION:\n      return {...state, conversations: onUpdateConversation(state, action.payload)}\n    \n    case CONVERSATION_RECEIVED_MESSAGE:\n      if (state.currentConversation.id) {\n        const messages = [...state.currentConversation.messages, action.payload]\n        return {...state, currentConversation: {...state.currentConversation, messages: sortMessages(messages) }}\n      } else {\n        return state\n      }\n\n    case SELECT_CONVERSATION:\n      return {...state, conversations: clearUpdatedOnConversation(state, action.payload.id), currentConversation: action.payload}\n    case CLEAR_SELECT_CONVERSATION:\n      return {...state, currentConversation: {}}\n    case LOGOUT:\n      return INITIAL_STATE\n    default:\n      return state\n  }\n}\n\nfunction sortMessages (messages) {\n  return _.orderBy(messages, 'time', 'desc')\n}\n\nfunction clearUpdatedOnConversation (state, convsId) {\n  return state.conversations.map(convs => {\n    if (convs.id !== convsId) return convs;\n    return {...convs, updated: false}\n  })\n}\n\nfunction onUpdateConversation (state, conversation) {\n  return state.conversations.map(convs => {\n    if (convs.id === conversation.id && state.currentConversation.id != conversation.id) {\n      return { ...conversation, updated: true }\n    } else {\n      return convs\n    }\n  })\n}\n\nexport default conversationReducer\n","import {\n  LOGIN_SUCCESS,\n  LOGIN_FAILURE,\n  LOGOUT,\n  SOCKET_REQUEST,\n  SOCKET_CONNECT,\n  SOCKET_FAILURE,\n} from '../actionTypes'\nimport { joinUser, leaveUser } from '../../socket'\n\nconst INITIAL_STATE = {\n  user: null,\n  connected: false,\n  loading: false,\n  socket: null\n}\n\nfunction socketReducer(state = INITIAL_STATE, action) {\n  switch (action.type) {\n    case LOGIN_SUCCESS:\n      return {...state, user: action.payload.user}\n    case LOGIN_FAILURE:\n      return {...state, user: null}\n\n    case SOCKET_REQUEST:\n      return {...state, loading: true, connected: false}\n    case SOCKET_CONNECT:\n      return {connected: true, loading: false, socket: action.payload}\n    case SOCKET_FAILURE:\n      leaveUser()\n      return INITIAL_STATE\n\n    case LOGOUT:\n      leaveUser()\n      state.socket && state.socket.disconnect(() => console.log('socket disconnected'))\n      return INITIAL_STATE\n    default:\n      return state\n  }\n}\n\nexport default socketReducer\n","import { combineReducers } from 'redux'\nimport accountReducer from './accountReducer'\nimport conversationReducer from './conversationReducer'\nimport socketReducer from './socketReducer'\n\nexport default combineReducers({\n  account: accountReducer,\n  conversation: conversationReducer,\n  socketConnection: socketReducer\n})\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport { SnackbarProvider } from 'notistack';\nimport App from './App';\nimport theme from './theme';\n\nimport { Provider } from 'react-redux'\n\nimport configureStore from './store'\n\nconst store = configureStore();\n\nexport const registerServiceWorker = () => {\n  if ('serviceWorker' in navigator) {\n    window.addEventListener('load', function () {\n      navigator.serviceWorker.register('/sw.js').then(function (registration) {\n        // Registration was successful\n        //console.log('ServiceWorker registration successful with scope: ', registration.scope);\n      }).catch(function (err) {\n        // registration failed :(\n        //console.log('ServiceWorker registration failed: ', err);\n      });\n    });\n  }\n}\n\nregisterServiceWorker()\n\nReactDOM.render(\n  <ThemeProvider theme={theme}>\n    {/* CssBaseline kickstart an elegant, consistent, and simple baseline to build upon. */}\n    <CssBaseline />\n    <Provider store={store}>\n      <SnackbarProvider maxSnack={3}>\n        <App />\n      </SnackbarProvider>\n    </Provider>\n  </ThemeProvider>,\n  document.querySelector('#root'),\n);\n","import { applyMiddleware, compose, createStore } from 'redux'\nimport thunkMiddleware from 'redux-thunk'\n\nimport rootReducer from './reducers'\n\nexport default function configureStore(preloadedState) {\n  const middlewares = [thunkMiddleware]\n  const middlewareEnhancer = applyMiddleware(...middlewares)\n\n  const enhancers = [middlewareEnhancer]\n  const composedEnhancers = compose(...enhancers)\n\n  const store = createStore(rootReducer, preloadedState, composedEnhancers)\n\n  return store\n}"],"sourceRoot":""}